{"ast":null,"code":"'use strict';\n\nconst {\n  URLWithLegacySupport,\n  format\n} = require('./url');\n/**\n * @param {string | undefined} url\n * @param {any} [location]\n * @param {any} [protocolMap]\n * @param {any} [defaultProtocol]\n */\n\n\nmodule.exports = (url, location = {}, protocolMap = {}, defaultProtocol) => {\n  let protocol = location.protocol ? location.protocol.replace(':', '') : 'http'; // Check protocol map\n\n  protocol = (protocolMap[protocol] || defaultProtocol || protocol) + ':';\n  let urlParsed;\n\n  try {\n    urlParsed = new URLWithLegacySupport(url);\n  } catch (err) {\n    urlParsed = {};\n  }\n\n  const base = Object.assign({}, location, {\n    protocol: protocol || urlParsed.protocol,\n    host: location.host || urlParsed.host\n  });\n  return new URLWithLegacySupport(url, format(base)).toString();\n};","map":{"version":3,"sources":["/home/ranju/location/meDossier/frontend/node_modules/ipfs-utils/node_modules/iso-url/src/relative.js"],"names":["URLWithLegacySupport","format","require","module","exports","url","location","protocolMap","defaultProtocol","protocol","replace","urlParsed","err","base","Object","assign","host","toString"],"mappings":"AAAA;;AAEA,MAAM;AAAEA,EAAAA,oBAAF;AAAwBC,EAAAA;AAAxB,IAAmCC,OAAO,CAAC,OAAD,CAAhD;AAEA;AACA;AACA;AACA;AACA;AACA;;;AACAC,MAAM,CAACC,OAAP,GAAiB,CAACC,GAAD,EAAMC,QAAQ,GAAG,EAAjB,EAAqBC,WAAW,GAAG,EAAnC,EAAuCC,eAAvC,KAA2D;AAC1E,MAAIC,QAAQ,GAAGH,QAAQ,CAACG,QAAT,GACXH,QAAQ,CAACG,QAAT,CAAkBC,OAAlB,CAA0B,GAA1B,EAA+B,EAA/B,CADW,GAEX,MAFJ,CAD0E,CAK1E;;AACAD,EAAAA,QAAQ,GAAG,CAACF,WAAW,CAACE,QAAD,CAAX,IAAyBD,eAAzB,IAA4CC,QAA7C,IAAyD,GAApE;AACA,MAAIE,SAAJ;;AAEA,MAAI;AACFA,IAAAA,SAAS,GAAG,IAAIX,oBAAJ,CAAyBK,GAAzB,CAAZ;AACD,GAFD,CAEE,OAAOO,GAAP,EAAY;AACZD,IAAAA,SAAS,GAAG,EAAZ;AACD;;AAED,QAAME,IAAI,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBT,QAAlB,EAA4B;AACvCG,IAAAA,QAAQ,EAAEA,QAAQ,IAAIE,SAAS,CAACF,QADO;AAEvCO,IAAAA,IAAI,EAAEV,QAAQ,CAACU,IAAT,IAAiBL,SAAS,CAACK;AAFM,GAA5B,CAAb;AAKA,SAAO,IAAIhB,oBAAJ,CAAyBK,GAAzB,EAA8BJ,MAAM,CAACY,IAAD,CAApC,EAA4CI,QAA5C,EAAP;AACD,CArBD","sourcesContent":["'use strict'\n\nconst { URLWithLegacySupport, format } = require('./url')\n\n/**\n * @param {string | undefined} url\n * @param {any} [location]\n * @param {any} [protocolMap]\n * @param {any} [defaultProtocol]\n */\nmodule.exports = (url, location = {}, protocolMap = {}, defaultProtocol) => {\n  let protocol = location.protocol\n    ? location.protocol.replace(':', '')\n    : 'http'\n\n  // Check protocol map\n  protocol = (protocolMap[protocol] || defaultProtocol || protocol) + ':'\n  let urlParsed\n\n  try {\n    urlParsed = new URLWithLegacySupport(url)\n  } catch (err) {\n    urlParsed = {}\n  }\n\n  const base = Object.assign({}, location, {\n    protocol: protocol || urlParsed.protocol,\n    host: location.host || urlParsed.host\n  })\n\n  return new URLWithLegacySupport(url, format(base)).toString()\n}\n"]},"metadata":{},"sourceType":"script"}